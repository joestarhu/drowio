<mxfile host="app.diagrams.net" modified="2023-11-10T07:15:51.738Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="iK4V-VVwl6TcusmViZ5M" version="22.1.0" type="github">
  <diagram name="订单状态" id="O3KAAAbpH9t8ICp0gVx-">
    <mxGraphModel dx="5453" dy="2956" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="49y2JjZSjfnPFW-xxPCn-1" value="&lt;h1&gt;通用订单流程模型&lt;/h1&gt;&lt;div&gt;通用订单流程涉及到角色为买卖双方。&lt;/div&gt;&lt;div&gt;整体的订单状态流转分为5个状态，分别对应2个交易阶段(交易和售后)。&lt;/div&gt;&lt;div&gt;订单可分订单类型，订单类型仅影响到交易阶段，售后阶段采用通用处理。&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-2511" y="-881" width="414" height="108" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="49y2JjZSjfnPFW-xxPCn-2" target="49y2JjZSjfnPFW-xxPCn-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-2" value="1.待付款" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FFA5;strokeColor=#36393d;direction=east;" parent="1" vertex="1">
          <mxGeometry x="-2093" y="-879" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="49y2JjZSjfnPFW-xxPCn-3" target="49y2JjZSjfnPFW-xxPCn-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-3" value="2.进行中" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FFA5;strokeColor=#36393d;direction=east;" parent="1" vertex="1">
          <mxGeometry x="-1944" y="-879" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="49y2JjZSjfnPFW-xxPCn-5" target="49y2JjZSjfnPFW-xxPCn-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-5" value="3.已完成" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FFA5;strokeColor=#36393d;direction=east;" parent="1" vertex="1">
          <mxGeometry x="-1792" y="-879" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-7" value="4.售后中" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#36393d;direction=east;" parent="1" vertex="1">
          <mxGeometry x="-1642" y="-879" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-9" value="5.已关闭" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;direction=east;" parent="1" vertex="1">
          <mxGeometry x="-2093" y="-784" width="572" height="27" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-39" value="用户扫码：微信小程序支付" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="-2508" y="-299" width="290" height="700" as="geometry">
            <mxRectangle x="30" y="320" width="179" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-39" source="49y2JjZSjfnPFW-xxPCn-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="141" y="129" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-41" value="&lt;font color=&quot;#34373c&quot;&gt;微信小程序扫码&lt;br&gt;获取到商户ID&lt;br&gt;&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontFamily=Helvetica;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-40" vertex="1" connectable="0">
          <mxGeometry x="-0.2317" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-42" value="买方扫码商户码" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFBF00;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-39" vertex="1">
          <mxGeometry x="76.25" y="32" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-39" source="49y2JjZSjfnPFW-xxPCn-58" target="49y2JjZSjfnPFW-xxPCn-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-64" value="系统处置" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-61" vertex="1" connectable="0">
          <mxGeometry x="-0.3675" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-58" value="判断用户状态&lt;br&gt;如未登录需等" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-39" vertex="1">
          <mxGeometry x="76.25" y="130" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-63" value="退出" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="49y2JjZSjfnPFW-xxPCn-39" source="49y2JjZSjfnPFW-xxPCn-60" target="49y2JjZSjfnPFW-xxPCn-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-60" value="支付界面&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;金额、备注等&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-39" vertex="1">
          <mxGeometry x="76.25" y="219" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-62" value="小程序首页&lt;br&gt;※或其他业务界面" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-39" vertex="1">
          <mxGeometry x="76.25" y="305" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-65" value="订单状态：待支付" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="-2217" y="-299" width="428" height="700" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="49y2JjZSjfnPFW-xxPCn-66" target="49y2JjZSjfnPFW-xxPCn-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-72" value="创建失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-71" vertex="1" connectable="0">
          <mxGeometry x="-0.2056" y="-4" relative="1" as="geometry">
            <mxPoint x="5" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="49y2JjZSjfnPFW-xxPCn-66" target="49y2JjZSjfnPFW-xxPCn-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-141" value="订单创建成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-138" vertex="1" connectable="0">
          <mxGeometry x="-0.0916" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-66" value="创建订单&lt;br&gt;（支付类型）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="45" y="33" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-70" value="支付界面&lt;br&gt;※订单创建失败信息" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="282" y="33" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-67" value="- 订单类型(支付订单)&lt;br&gt;- 下单时间(YYYY-MM-DD HH:MM:SS)&lt;br&gt;- 订单ID(全局唯一，系统生成)&lt;br&gt;- 所属用户ID&lt;br&gt;- 所属商户ID&lt;br&gt;- 订单状态&lt;br&gt;- 订单金额&lt;br&gt;- 订单备注&lt;br&gt;· 订单有效期(支付限时)&lt;br&gt;- 现金支付额度等信息" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#FF0087;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="181" y="86" width="231" height="161" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="49y2JjZSjfnPFW-xxPCn-73" target="49y2JjZSjfnPFW-xxPCn-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="111" y="432" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-143" value="关闭收银台" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-142" vertex="1" connectable="0">
          <mxGeometry x="0.6214" y="-1" relative="1" as="geometry">
            <mxPoint x="-4" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="49y2JjZSjfnPFW-xxPCn-73" target="f1P4lGSasqayBtfQSkuf-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-73" value="支付界面&lt;br&gt;※唤起收银台(微信)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="45" y="326" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-77" value="- 根据商户ID，获取到支付相关信息&lt;br&gt;&amp;nbsp; &amp;nbsp;*比如微信支付的商户号信息等&lt;br&gt;- 订单支付到计算(超时自动关闭)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#FF0087;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="189" y="328" width="231" height="45" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="49y2JjZSjfnPFW-xxPCn-137" target="49y2JjZSjfnPFW-xxPCn-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-140" value="订单创建成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-139" vertex="1" connectable="0">
          <mxGeometry x="0.0381" y="-2" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-137" value="支付倒计时&lt;br&gt;※不同订单类型时长不同" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="45" y="226" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-87" value="支付界面&lt;br&gt;※用户关闭收银台" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="279.5" y="407" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-65" source="f1P4lGSasqayBtfQSkuf-1" target="f1P4lGSasqayBtfQSkuf-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-15" value="失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="f1P4lGSasqayBtfQSkuf-5" vertex="1" connectable="0">
          <mxGeometry x="-0.2392" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-1" value="支付处理&lt;br&gt;调用三方支付接口&lt;br&gt;(微信)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="45" y="470" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-3" value="- 判断订单是否有效(状态，过期)&lt;br&gt;- 获取支付接口返回的结果信息" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#FF0087;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="183.5" y="503" width="196.5" height="45" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-4" value="支付结果页-失败&lt;br&gt;※可重新支付&lt;br&gt;※可返回小程序首页" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-65" vertex="1">
          <mxGeometry x="45" y="573" width="132.5" height="74" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="49y2JjZSjfnPFW-xxPCn-60" target="49y2JjZSjfnPFW-xxPCn-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-69" value="点击支付&lt;br&gt;传入商户ID，用户ID&lt;br&gt;金额，备注等" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-68" vertex="1" connectable="0">
          <mxGeometry x="0.0059" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-83" value="代表&lt;br&gt;系统界面" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="1" vertex="1">
          <mxGeometry x="-2502" y="-365" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-84" value="代表&lt;br&gt;系统操作" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="1" vertex="1">
          <mxGeometry x="-2366" y="-364" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-85" value="代表&lt;br&gt;用户操作" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFBF00;strokeColor=#6c8ebf;fontColor=#FFF;" parent="1" vertex="1">
          <mxGeometry x="-2228" y="-364.5" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-97" value="订单状态:已完成" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="-1790" y="-299" width="389" height="700" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-97" source="49y2JjZSjfnPFW-xxPCn-113" target="49y2JjZSjfnPFW-xxPCn-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="49y2JjZSjfnPFW-xxPCn-97" source="49y2JjZSjfnPFW-xxPCn-113" target="49y2JjZSjfnPFW-xxPCn-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-113" value="已完成处理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-97" vertex="1">
          <mxGeometry x="25" y="470" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-118" value="售后倒计时" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-97" vertex="1">
          <mxGeometry x="207" y="470" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-89" value="支付结果页-成功&lt;br&gt;※可返回小程序首页" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3345CC;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-97" vertex="1">
          <mxGeometry x="25" y="575" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-13" value="- 订单状态变更&lt;br&gt;- 订单有效期变更(售后限时)&lt;br&gt;- 订单关联支付明细信息&lt;br&gt;&amp;nbsp; &amp;nbsp;1.支付时间&lt;br&gt;&amp;nbsp; &amp;nbsp;2.支付渠道(如：微信支付)&lt;br&gt;&amp;nbsp; &amp;nbsp;3.支付单号&lt;br&gt;&amp;nbsp; &amp;nbsp;4.支付行为(如：支付或退款)&lt;br&gt;&amp;nbsp; &amp;nbsp;5.支付金额(如: 10.00)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#FF0087;" parent="49y2JjZSjfnPFW-xxPCn-97" vertex="1">
          <mxGeometry x="175" y="525" width="192" height="123" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-125" value="订单状态:已关闭" style="swimlane;whiteSpace=wrap;html=1;strokeColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="-1401" y="-299" width="206" height="700" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="49y2JjZSjfnPFW-xxPCn-125" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="181.25" y="493.5" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-144" value="支付超时处理&lt;br&gt;描述：支付超时" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-125" vertex="1">
          <mxGeometry x="47" y="226" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-147" value="用户取消处理&lt;br&gt;描述：用户取消" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-125" vertex="1">
          <mxGeometry x="47" y="407" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-153" value="- 删除支付倒计时任务" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#FF0087;" parent="49y2JjZSjfnPFW-xxPCn-125" vertex="1">
          <mxGeometry x="49" y="379" width="131" height="23" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-8" value="交易完成关闭处理&lt;br&gt;描述：交易完成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF0087;strokeColor=#6c8ebf;fontColor=#FFF;" parent="49y2JjZSjfnPFW-xxPCn-125" vertex="1">
          <mxGeometry x="47" y="468" width="132.5" height="49" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="49y2JjZSjfnPFW-xxPCn-137" target="49y2JjZSjfnPFW-xxPCn-144" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-146" value="超时Timeout" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-145" vertex="1" connectable="0">
          <mxGeometry x="-0.0501" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="49y2JjZSjfnPFW-xxPCn-87" target="49y2JjZSjfnPFW-xxPCn-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49y2JjZSjfnPFW-xxPCn-149" value="用户取消了订单" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="49y2JjZSjfnPFW-xxPCn-148" vertex="1" connectable="0">
          <mxGeometry x="-0.1333" y="1" relative="1" as="geometry">
            <mxPoint x="-84" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="f1P4lGSasqayBtfQSkuf-1" target="49y2JjZSjfnPFW-xxPCn-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-14" value="成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="f1P4lGSasqayBtfQSkuf-7" vertex="1" connectable="0">
          <mxGeometry x="0.2454" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="49y2JjZSjfnPFW-xxPCn-118" target="f1P4lGSasqayBtfQSkuf-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-16" value="超时Timeout" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="f1P4lGSasqayBtfQSkuf-9" vertex="1" connectable="0">
          <mxGeometry x="-0.0977" y="-2" relative="1" as="geometry">
            <mxPoint x="1" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-11" value="所有订单的状态变更都需要记录订单状态变更流水信息" style="text;html=1;strokeColor=#A50040;fillColor=#d80073;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-2085" y="-364" width="328" height="48" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-27" value="" style="shape=singleArrow;direction=south;whiteSpace=wrap;html=1;arrowWidth=0.23333333333333334;arrowSize=0.5227272727272727;" parent="1" vertex="1">
          <mxGeometry x="-1838" y="-812" width="60" height="19" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-37" value="订单表" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2508" y="-728" width="308" height="312" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-41" value="[PK]订单ID(全局唯一，系统自动生成)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="26" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-42" value="订单类型" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="52" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-43" value="下单时间" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="78" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-44" value="用户ID" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="104" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-45" value="商户ID" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="130" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-46" value="订单总金额(订单实际需支付金额)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="156" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-38" value="优惠金额(使用优惠券抵扣的金额)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="182" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-39" value="现金金额(需现金支付的金额)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="208" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-48" value="订单状态(待付款，进行中，已完成，售后中，已关闭)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="234" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-49" value="订单状态描述" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="260" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-50" value="订单有效期(支付有效期，售后有效期)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-37" vertex="1">
          <mxGeometry y="286" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-51" value="订单状态记录表" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2185" y="-728" width="308" height="156" as="geometry">
            <mxRectangle x="-2165" y="-701" width="119" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-52" value="[PK] id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-51" vertex="1">
          <mxGeometry y="26" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-53" value="[FK]订单ID" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-51" vertex="1">
          <mxGeometry y="52" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-54" value="记录时间" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-51" vertex="1">
          <mxGeometry y="78" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-56" value="订单状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-51" vertex="1">
          <mxGeometry y="104" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-57" value="备注" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-51" vertex="1">
          <mxGeometry y="130" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-67" value="订单现金流水记录表" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1869" y="-728" width="308" height="208" as="geometry">
            <mxRectangle x="-2167" y="-535" width="143" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-68" value="[PK] id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="26" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-69" value="[FK]订单ID" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="52" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-70" value="支付渠道" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="78" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-72" value="支付单号" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="104" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-76" value="支付行为（支付 |&amp;nbsp; 退款）" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="130" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-77" value="金额" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="156" width="308" height="26" as="geometry" />
        </mxCell>
        <mxCell id="f1P4lGSasqayBtfQSkuf-79" value="操作时间" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="f1P4lGSasqayBtfQSkuf-67" vertex="1">
          <mxGeometry y="182" width="308" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
